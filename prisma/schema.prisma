datasource db {
  provider = "sqlite"
  url      = "file:./prisma/dev.db" // Change the file name if needed
}

generator client {
  provider = "prisma-client-js"
}

model Doctor {
  id         Int             @id @default(autoincrement())
  name       String
  profession String
  details    DoctorDetails[]
}

model DoctorDetails {
  id         Int             @id @default(autoincrement())
  details    String
  doctorId   Int
  doctor     Doctor         @relation(fields: [doctorId], references: [id])
  @@index([id], name: "doctorId")
}

model Patient {
  id         Int             @id @default(autoincrement())
  name       String 
  age        Int
  gender     String
  details    PatientDetails[]
  prescriptions Prescriptions[]
  @@unique([name, age, gender]) // Adding a unique constraint based on name, age, and gender
}

model PatientDetails {
  id            Int             @id @default(autoincrement())
  details       String
  detailHeading String
  patientId     Int
  patient       Patient        @relation(fields: [patientId], references: [id])
  date          DateTime 
  @@index([id], name: "patientDetailsId")
}
model Prescriptions {
  id            Int       @id @default(autoincrement())
  prescription  String
  date          DateTime
  patientId     Int 
  patient       Patient  @relation(fields: [patientId], references: [id])

  // @@index([id], name: "prescriptionId")
}


